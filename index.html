<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITS Bike Sharing</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ITS Bike Sharing System</h1>
        
        <div id="message" class="hidden"></div>
        
        <div id="auth-section" class="section">
            <h2>Authentication</h2>
            
            <div id="login-form">
                <h3>Login</h3>
                <form id="loginForm">
                    <input type="text" id="login-nrp" placeholder="NRP" required><br>
                    <input type="password" id="login-password" placeholder="Password" required><br>
                    <button type="submit">Login</button>
                </form>
                <button onclick="showRegister()">Register Instead</button>
            </div>
            
            <div id="register-form" class="hidden">
                <h3>Register</h3>
                <form id="registerForm">
                    <input type="text" id="reg-nrp" placeholder="NRP" required><br>
                    <input type="text" id="reg-nama" placeholder="Full Name" required><br>
                    <input type="email" id="reg-email" placeholder="Email" required><br>
                    <input type="text" id="reg-hp" placeholder="Phone Number" required><br>
                    <select id="reg-role">
                        <option value="user">User</option>
                        <option value="admin">Admin</option>
                    </select><br>
                    <input type="password" id="reg-password" placeholder="Password" required><br>
                    <button type="submit">Register</button>
                </form>
                <button onclick="showLogin()">Login Instead</button>
            </div>
        </div>
        
        <div id="app-section" class="hidden">
            <div id="user-info" class="section">
                <h2>User Profile</h2>
                <div id="profile-data"></div>
                <button id="logoutButton">Logout</button>
            </div>
            
            <div class="nav">
                <button onclick="showSection('stations')">Stations</button>
                <button onclick="showSection('bikes')">Bikes</button>
                <button onclick="showSection('rentals')">Rentals</button>
                <button onclick="showSection('services')">Services</button>
                <button onclick="showSection('admin')" id="admin-nav" class="hidden">Admin</button>
            </div>
            
            <div id="stations-section" class="section">
                <h2>Stations</h2>
                <button onclick="loadStations()">Refresh Stations</button>
                <div id="stations-list"></div>
            </div>
            
            <div id="bikes-section" class="section hidden">
                <h2>Available Bikes</h2>
                <label>Filter by Station:</label>
                <select id="bike-station-filter" onchange="loadBikes()">
                    <option value="">All Stations</option>
                </select>
                <button onclick="loadBikes()">Refresh Bikes</button>
                <div id="bikes-list"></div>
            </div>
            
            <div id="rentals-section" class="section hidden">
                <h2>Bike Rentals</h2>
                
                <div id="active-rental">
                    <h3>Active Rental</h3>
                    <div id="active-rental-data">No active rental</div>
                </div>
                
                <div id="rent-bike">
                    <h3>Rent a Bike</h3>
                    <form id="rentBikeForm">
                        <select id="rent-bike-id" required>
                            <option value="">Select Bike</option>
                        </select><br>
                        <select id="rent-station-id" required>
                            <option value="">Select Station</option>
                        </select><br>
                        <button type="submit">Rent Bike</button>
                    </form>
                </div>
                
                <div id="return-bike">
                    <h3>Return Bike</h3>
                    <form id="returnBikeForm">
                        <input type="number" id="return-transaction-id" placeholder="Transaction ID" required><br>
                        <select id="return-station-id" required>
                            <option value="">Select Return Station</option>
                        </select><br>
                        <button type="submit">Return Bike</button>
                    </form>
                </div>
                
                <div>
                    <h3>My Rental History</h3>
                    <button onclick="loadMyRentals()">Load History</button>
                    <div id="rental-history"></div>
                </div>
            </div>
            
            <div id="services-section" class="section hidden">
                <h2>Services</h2>
                <button onclick="loadServices()">Load Services</button>
                <div id="services-list"></div>
                
                <div id="request-service">
                    <h3>Request Service</h3>
                    <form id="requestServiceForm">
                        <input type="number" id="service-transaction-id" placeholder="Transaction ID" required><br>
                        <select id="service-id" required>
                            <option value="">Select Service</option>
                        </select><br>
                        <button type="submit">Request Service</button>
                    </form>
                </div>
            </div>
            
            <div id="admin-section" class="section hidden">
                <h2>Admin Panel</h2>
                
                <div>
                    <h3>Manage Stations</h3>
                    <form id="createStationForm">
                        <input type="text" id="station-name" placeholder="Station Name" required><br>
                        <input type="text" id="station-address" placeholder="Address" required><br>
                        <select id="station-status">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select><br>
                        <button type="submit">Create Station</button>
                    </form>
                </div>
                
                <div>
                    <h3>Manage Bikes</h3>
                    <form id="createBikeForm">
                        <input type="text" id="bike-merk" placeholder="Brand" required><br>
                        <input type="text" id="bike-tipe" placeholder="Type" required><br>
                        <select id="bike-station-id">
                            <option value="">Select Station</option>
                        </select><br>
                        <button type="submit">Create Bike</button>
                    </form>
                </div>
                
                <div>
                    <h3>Manage Services</h3>
                    <form id="createServiceForm">
                        <input type="text" id="service-name" placeholder="Service Name" required><br>
                        <input type="text" id="service-desc" placeholder="Description" required><br>
                        <input type="number" id="service-price" placeholder="Price" required><br>
                        <input type="number" id="service-base-cost" placeholder="Base Cost" required><br>
                        <button type="submit">Create Service</button>
                    </form>
                </div>
                
                <div>
                    <h3>All Transactions</h3>
                    <button onclick="loadAllTransactions()">Load All Transactions</button>
                    <div id="admin-transactions"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
    <script src="js/stations.js"></script>
    <script src="js/bikes.js"></script>
    <script src="js/rentals.js"></script>
    <script src="js/services.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>